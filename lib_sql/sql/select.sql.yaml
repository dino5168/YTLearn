SELECT_NAV_ITEM_ROLES: |
  SELECT nav_item_id, role_id FROM nav_item_roles;

SELECT_VIDEOS: |
  SELECT id, title, uploader, upload_date, view_count, video_url, thumbnail_url, local_thumbnail_path, format, duration FROM videos;

SELECT_ALL_MENU: |
  SELECT 
    ni.id,
    ni.label,
    ni.href,
    '0' AS type, 
    ni.sort_order,
    COALESCE(
      json_agg(
        json_build_object(
          'id', nd.id,
          'label', nd.label,
          'href', nd.href,
          'type', '1',
          'nav_item_id', nd.nav_item_id,
          'sort_order', nd.sort_order
        ) ORDER BY nd.sort_order
      ) FILTER (WHERE nd.id IS NOT NULL),
      '[]'
    ) AS dropdown
  FROM nav_items ni
  LEFT JOIN nav_dropdowns nd
    ON nd.nav_item_id = ni.id
  GROUP BY ni.id, ni.label, ni.href, ni.sort_order
  ORDER BY ni.sort_order;
